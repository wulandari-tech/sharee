<!DOCTYPE html>
<html lang="en" class="dark"> <!-- Default to dark mode -->
<head>
  <meta charset="UTF-UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> - SHARE SOURCE CODE</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" id="highlight-theme-dark" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css" id="highlight-theme-light" disabled />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/meta.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/mode/loadmode.js"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      @apply bg-slate-900 text-slate-100 transition-colors duration-300;
    }
    html.light body {
      @apply bg-slate-50 text-slate-800;
    }
    .CodeMirror {
      height: 300px;
      border-radius: 0.375rem;
      border: 1px solid;
      @apply border-slate-700 bg-slate-800 text-slate-100;
    }
    html.light .CodeMirror {
      @apply border-slate-300 bg-white text-slate-900;
    }
    .card {
      @apply bg-slate-800 p-6 rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1;
    }
    html.light .card {
      @apply bg-white text-slate-700 shadow-lg hover:shadow-xl;
    }
    .btn {
      @apply px-4 py-2 rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    }
    .btn-primary {
      @apply bg-sky-500 hover:bg-sky-600 text-white focus:ring-sky-500;
    }
    .btn-secondary {
      @apply bg-slate-600 hover:bg-slate-700 text-white focus:ring-slate-500;
    }
    html.light .btn-secondary {
        @apply bg-slate-300 hover:bg-slate-400 text-slate-800 focus:ring-slate-400;
    }
    .btn-danger {
      @apply bg-red-500 hover:bg-red-600 text-white focus:ring-red-500;
    }
    .btn-success {
      @apply bg-emerald-500 hover:bg-emerald-600 text-white focus:ring-emerald-500;
    }
    .form-input, .form-select, .form-textarea {
      @apply block w-full rounded-md shadow-sm transition-colors duration-300;
      @apply bg-slate-700 border-slate-600 text-slate-100 focus:border-sky-500 focus:ring-sky-500;
    }
    html.light .form-input, html.light .form-select, html.light .form-textarea {
      @apply bg-white border-slate-300 text-slate-900 focus:border-sky-500 focus:ring-sky-500;
    }
    .tag {
      @apply inline-block bg-sky-700 text-sky-100 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full;
    }
    html.light .tag {
      @apply bg-sky-200 text-sky-800;
    }
    .pagination a, .pagination span {
        @apply inline-flex items-center justify-center px-4 py-2 mx-1 border rounded-md text-sm font-medium transition-colors;
        @apply border-slate-700 text-slate-300 hover:bg-slate-700;
    }
    html.light .pagination a, html.light .pagination span {
        @apply border-slate-300 text-slate-600 hover:bg-slate-200;
    }
    .pagination .active {
        @apply bg-sky-600 border-sky-600 text-white hover:bg-sky-700;
    }
    html.light .pagination .active {
        @apply bg-sky-500 border-sky-500 text-white hover:bg-sky-600;
    }
    .pagination .disabled {
        @apply opacity-50 cursor-not-allowed;
    }
    #previewBox iframe {
        @apply bg-white; /* Preview iframe should always have a white background for HTML content */
    }
    .comment {
        @apply p-4 mb-4 rounded-lg border;
        @apply bg-slate-800 border-slate-700;
    }
    html.light .comment {
        @apply bg-slate-100 border-slate-300;
    }
    .alert-error {
        @apply bg-red-700 border border-red-600 text-red-100 px-4 py-3 rounded relative mb-4;
    }
    html.light .alert-error {
        @apply bg-red-100 border border-red-300 text-red-700;
    }
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
  </style>
</head>
<body class="flex flex-col min-h-screen">
  <%- include('./navbar') %>
  <main class="container mx-auto px-4 py-8 flex-grow">